---
layout: post
title: git入门文章 探秘
tags: git
categories: git
---
# git

  



第一章 简介及安装<br />[1.]1安装<br />傻瓜式安装<br />连接:[https://blog.csdn.net/qq_32786873/article/details/80570783](https://blog.csdn.net/qq_32786873/article/details/80570783)<br />1.2简介<br />git版本控制工具，可以进行版本控制管理，合并分支，回退版本。<br />连接:[https://www.liaoxuefeng.com/wiki/896043488029600/896067008724000](https://www.liaoxuefeng.com/wiki/896043488029600/896067008724000)<br />1.3配置用户名与邮箱<br />git config --global user.name "supersunga"       <br />git config --global user.email "318656680@qq.com"<br />第二章 基本命令<br />2.1创建版本库<br />windows下打开git bash可以以linux命令行的方式键入命令。<br />$ mkdir learngit<br />$ cd learngit<br />$ pwd<br />/Users/michael/learngit<br />$ git init<br />执行命令git init后便在该文件夹下创建了版本库，文件夹内会生成一个隐藏文件夹。这个隐藏文件夹存储着个个版本库。<br />[https://www.liaoxuefeng.com/wiki/896043488029600/897271968352576](https://www.liaoxuefeng.com/wiki/896043488029600/897271968352576)<br />![](https://cdn.nlark.com/yuque/0/2020/png/555316/1579249597993-5c22e6a7-ba5c-4084-abb1-5a4e66affe8d.png#height=128&width=976) <br />文件夹内的文件便可以加入版本控制中。<br />2.2文件的提交<br />在版本库内创建test_01.txt。<br />$ git add test_01.txt<br />$ git commit -m "wrote a hello git file"<br /> <br />Git add 可以多次执行添加多个文件，Git commit提交添加的文件。<br />截图内commit提交失败是因为没有配置git服务器。可以使用Github或者自建git服务器。<br />![](https://cdn.nlark.com/yuque/0/2020/png/555316/1579249598491-b08fccb9-ce16-4d15-8028-c1a0affad809.png#height=630&width=936) <br />2.3查看版本库的改动日志<br />Git Log<br />Git log --pretty=oneline<br />![](https://cdn.nlark.com/yuque/0/2020/png/555316/1579249598856-2b54cab0-e893-4b9a-8166-78e1cfdd0cbf.png#height=294&width=958) <br />155c4***********是commit id（版本号）,HEAD指向的是当前版本<br />2.4回退版本<br />先将test_01.txt修改，然后git add ，git commit<br />Git reset --hard (指定版本号，填写HEAD默认回退上个版本)<br />例:<br />回退到上个版本: git reset --hard HEAD<br />回退到指定版本: git reset --hard 4ae58478db37c09bf407de209fe624a8dd898f85<br />配置git log获取版本号使用。<br />2.5 版本库状态命令<br />查看当前版本库状态: git status<br />![](https://cdn.nlark.com/yuque/0/2020/png/555316/1579249599189-0262493a-f44d-4d4e-85d5-0464ce22e021.png#height=214&width=976) <br />如图: test_01.txt 执行了add命令将其添加到了暂存区，但是未commit。<br />2.6 撤销更改<br />****git commit   --amend        撤销上一次提交  并将暂存区文件重新提交<br />****git checkout -- <file>     拉取暂存区文件 并将其替换成工作区文件<br />****git**** reset**** ****HEAD**** ****--**** <****file****> ****拉取最近一次提交到版本库的文件到暂存区**** ****改操作不影响工作区<br />例: git checkout -- text_01.txt<br />命令git checkout -- readme.txt意思就是，把readme.txt文件在工作区的修改全部撤销，这里有两种情况：<br />一种是readme.txt自修改后还没有被放到暂存区，现在，撤销修改就回到和版本库一模一样的状态；<br />一种是readme.txt已经添加到暂存区后，又作了修改，现在，撤销修改就回到添加到暂存区后的状态。<br />总之，就是让这个文件回到最近一次git commit或git add时的状态。<br />2.7删除文件<br />当我们手动删除某个文件后，git监测到我们删除了文件，使得工作区与暂存区不一致，我们要:<br />（1）git rm file <br />（2）git commit -m “删除文件”<br />![](https://cdn.nlark.com/yuque/0/2020/png/555316/1579249599730-7a3e20a7-94e0-4259-b7ea-69a05b00219b.png#height=732&width=976) <br />第三章 远程仓库<br />3.1使用Github<br />3.1.1配置SSH Key<br />（1）执行命令: $ ssh-keygen -t rsa -C ["youremail@example.com"](mailto:\)。<br />执行命令后会在用户目录下生成 .ssh 目录，目录内含有两个文件: 这两个就是SSH Key的秘钥对，id_rsa是私钥，不能泄露出去，id_rsa.pub是公钥，可以放心地告诉任何人。<br />（2）登录github，设置ssh key(settings->SSH and GPG keys)。将公钥id_rsa.pub文件内容粘贴到SSH keys中。<br />3.1.2 仓库同步<br />（1）在github创建仓库<br />（2）创建本地仓库与远程仓库连接<br />git remote add origin  [https://github.com/superminga/test-2019](https://github.com/superminga/test-2019).git  //origin定义的远程仓库名<br />（3）将本地仓库内容推送到远程仓库<br />git push -u origin master  //master 当前分支 <br />由于远程库是空的，我们第一次推送master分支时，加上了-u参数，Git不但会把本地的master分支内容推送的远程新的master分支，还会把本地的master分支和远程的master分支关联起来，在以后的推送或者拉取时就可以简化命令。<br />![](https://cdn.nlark.com/yuque/0/2020/png/555316/1579249600078-670a45bb-28f3-4831-9612-5c752258c408.png#height=292&width=974) <br />3.1.3 克隆远程仓库<br />（1）git clone [https://github.com/superminga/test-2019_01](https://github.com/superminga/test-2019_01).git<br />![](https://cdn.nlark.com/yuque/0/2020/png/555316/1579249600389-2c26e8df-fa4e-4b85-a0f1-aa64738dad2c.png#height=354&width=974) <br />第四章 分支管理<br />4.1概述<br />分支在实际中有什么用呢？假设你准备开发一个新功能，但是需要两周才能完成，第一周你写了50%的代码，如果立刻提交，由于代码还没写完，不完整的代码库会导致别人不能干活了。如果等代码全部写完再一次提交，又存在丢失每天进度的巨大风险。<br />现在有了分支，就不用怕了。你创建了一个属于你自己的分支，别人看不到，还继续在原来的分支上正常工作，而你在自己的分支上干活，想提交就提交，直到开发完毕后，再一次性合并到原来的分支上，这样，既安全，又不影响别人工作。<br />4.2创建与合并分支<br />4.2.1创建分支<br />[https://www.liaoxuefeng.com/wiki/896043488029600/900003767775424](https://www.liaoxuefeng.com/wiki/896043488029600/900003767775424)<br />命令: git checkout -b branch_name<br />或: git branch branch_name  --创建分支<br />git checkout branch_name --切换到分支<br />查看分支: git branch 。* 标记当前分支<br />![](https://cdn.nlark.com/yuque/0/2020/png/555316/1579249600696-bf752b51-827f-4a84-afa4-155781a9aa51.png#height=268&width=966) <br />4.2.2合并分支<br />在新建的分支中修改test_01.txt文件提交后切换到master分支。<br />执行命令 git merge branch_test_01<br />![](https://cdn.nlark.com/yuque/0/2020/png/555316/1579249600954-d35647d2-51bf-4828-beca-5b76278a2d7e.png#height=182&width=976) <br />Fast-forward 合并模式—快进模式，直接将master分支的指向branch_test_01的当前提交。<br />4.3删除分支<br />Git branch -d branch_test_01<br />![](https://cdn.nlark.com/yuque/0/2020/png/555316/1579249601207-d2b59374-737d-443c-8e77-16df9f29aa6c.png#height=216&width=976) <br />4.4切换分支<br />（1）前面用过命令: git checkout branch_name <br />（2）switch 命令: <br />创建并切换分支: git switch -c branch_name<br />切换分支: git switch branch_name<br />4.5 分支冲突<br />新建分支branch_test_02，在新分支下修改文件test_01.txt，提交修改。切换到master分支修改test_01.txt，提交修改。合并分支。<br />![](https://cdn.nlark.com/yuque/0/2020/png/555316/1579249601435-5d293149-9dd7-4c58-a52f-7e73c6727ab2.png#height=166&width=976) <br />![](https://cdn.nlark.com/yuque/0/2020/png/555316/1579249601813-97b66afb-5dcb-4647-9f9a-124e639ab521.png#height=370&width=858) <br />解决合并冲突问题只能手动修改冲突文件。git会把不同分支下的修改使用<<<<<======>>>>>分隔开。我们将冲突文件修改成我们想要的形式再合并。<br />4.6 分支管理策略<br />通常，合并分支时，如果可能，Git会用Fast forward模式，但这种模式下，删除分支后，会丢掉分支信息。<br />如果要强制禁用Fast forward模式，Git就会在merge时生成一个新的commit，这样，从分支历史上就可以看出分支信息。<br />git merge --no-ff -m "merge with no-ff" dev  //使用这种方式合并可以将合并记录写入git log中。<br />这样我们就可以在git log 查看到分支合并信息。<br />****在实际开发中，我们应该按照几个基本原则进行分支管理：<br />首先，master分支应该是非常稳定的，也就是仅用来发布新版本，平时不能在上面干活；<br />那在哪干活呢？干活都在dev分支上，也就是说，dev分支是不稳定的，到某个时候，比如1.0版本发布时，再把dev分支合并到master上，在master分支发布1.0版本；<br />你和你的小伙伴们每个人都在dev分支上干活，每个人都有自己的分支，时不时地往dev分支上合并就可以了。<br />所以，团队合作的分支看起来就像这样：<br />![](https://cdn.nlark.com/yuque/0/2020/png/555316/1579249602083-1bd74b7d-070f-47f9-b050-21bacc09312e.png#height=188&width=748) <br />****合并分支时，加上--no-ff****参数就可以用普通模式合并，合并后的历史有分支，能看出来曾经做过合并****(-m参数)****，而fast forward合并就看不出来曾经做过合并。****<br />4.命令总结<br />（1）查看分支：git branch<br />（2）创建分支：git branch <name><br />（3）切换分支：git checkout <name>或者git switch <name><br />（4）创建+切换分支：git checkout -b <name>或者git switch -c <name><br />（5）合并某分支到当前分支：git merge <name><br />（6）删除分支：git branch -d <name><br /> 
